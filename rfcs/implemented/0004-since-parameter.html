
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://keithdadkins.github.io/beneficiary-fhir-data/rfcs/implemented/0004-since-parameter.html">
      
      
        <link rel="prev" href="0002-monorepo.html">
      
      
        <link rel="next" href="0005-mbi-search.html">
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.4.2, mkdocs-material-9.0.2">
    
    
      
        <title>0004-since-parameter - BFD</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.f56500e0.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.2505c338.min.css">
      
      

    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../assets/mkdocs.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="lightmode" data-md-color-primary="light-blue" data-md-color-accent="indigo">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#status" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../index.html" title="BFD" class="md-header__button md-logo" aria-label="BFD" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            BFD
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              0004-since-parameter
            
          </span>
        </div>
      </div>
    </div>
    
      <form class="md-header__option" data-md-component="palette">
        
          
          <input class="md-option" data-md-color-media="" data-md-color-scheme="lightmode" data-md-color-primary="light-blue" data-md-color-accent="indigo"  aria-label="dark"  type="radio" name="__palette" id="__palette_1">
          
            <label class="md-header__button md-icon" title="dark" for="__palette_2" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 6H7c-3.31 0-6 2.69-6 6s2.69 6 6 6h10c3.31 0 6-2.69 6-6s-2.69-6-6-6zm0 10H7c-2.21 0-4-1.79-4-4s1.79-4 4-4h10c2.21 0 4 1.79 4 4s-1.79 4-4 4zM7 9c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"/></svg>
            </label>
          
        
          
          <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="" data-md-color-accent=""  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_2">
          
            <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3Z"/></svg>
            </label>
          
        
      </form>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/keithdadkins/beneficiary-fhir-data" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    beneficiary-fhir-data
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
                
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../index.html" title="BFD" class="md-nav__button md-logo" aria-label="BFD" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    BFD
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/keithdadkins/beneficiary-fhir-data" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    beneficiary-fhir-data
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../index.html" class="md-nav__link">
        Welcome
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../LICENSE.html" class="md-nav__link">
        License
      </a>
    </li>
  

    
      
      
      

  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" type="checkbox" id="__nav_3" >
      
      
      
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_3">
          Api
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Api" data-md-level="1">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          Api
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../api/request-audit-headers.html" class="md-nav__link">
        BFD Audit Headers
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../api/request-options.html" class="md-nav__link">
        Request options
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4" type="checkbox" id="__nav_4" >
      
      
      
        
          
            
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../changelog/index.html">Changelog</a>
          
        </div>
      
      <nav class="md-nav" aria-label="Changelog" data-md-level="1">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          Changelog
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5" type="checkbox" id="__nav_5" >
      
      
      
        
          
            
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../contributing/index.html">Contributing</a>
          
            <label for="__nav_5">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="Contributing" data-md-level="1">
        <label class="md-nav__title" for="__nav_5">
          <span class="md-nav__icon md-icon"></span>
          Contributing
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5_2" type="checkbox" id="__nav_5_2" >
      
      
      
        
          
            
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../contributing/style-guide/index.html">Style guide</a>
          
        </div>
      
      <nav class="md-nav" aria-label="Style guide" data-md-level="2">
        <label class="md-nav__title" for="__nav_5_2">
          <span class="md-nav__icon md-icon"></span>
          Style guide
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_6" type="checkbox" id="__nav_6" >
      
      
      
        
          
            
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../insights/index.html">Insights</a>
          
            <label for="__nav_6">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="Insights" data-md-level="1">
        <label class="md-nav__title" for="__nav_6">
          <span class="md-nav__icon md-icon"></span>
          Insights
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../insights/ab2d_firehose.html" class="md-nav__link">
        AB2D Firehose Setup
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../insights/bb2_notes.html" class="md-nav__link">
        BB2 Project information
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../insights/core_tables.html" class="md-nav__link">
        Introduction
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../insights/data_organization.html" class="md-nav__link">
        Organization
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../insights/lessons_learned.html" class="md-nav__link">
        Lessons Learned
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../insights/onboarding.html" class="md-nav__link">
        Onboarding
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../insights/security.html" class="md-nav__link">
        Security Model
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../insights/terraform.html" class="md-nav__link">
        Terraform Scripts
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../insights/typical_workflow.html" class="md-nav__link">
        Example Workflow
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
    
  
  
    
      
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_7" type="checkbox" id="__nav_7" checked>
      
      
      
        
          
            
          
        
          
        
          
        
          
        
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../index.html">Rfcs</a>
          
            <label for="__nav_7">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="Rfcs" data-md-level="1">
        <label class="md-nav__title" for="__nav_7">
          <span class="md-nav__icon md-icon"></span>
          Rfcs
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_7_2" type="checkbox" id="__nav_7_2" >
      
      
      
        
          
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_7_2">
          Deferred
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Deferred" data-md-level="2">
        <label class="md-nav__title" for="__nav_7_2">
          <span class="md-nav__icon md-icon"></span>
          Deferred
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../deferred/0008-partial-backfill-ccw.html" class="md-nav__link">
        0008-partial-backfill-ccw
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../deferred/0012-rda-claims-jsonb-DEFERRED.html" class="md-nav__link">
        0012-rda-claims-jsonb
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../deferred/0016-cursor-paging.html" class="md-nav__link">
        0016-cursor-paging.md
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../deferred/0017-filtering.html" class="md-nav__link">
        0007-filtering-fields
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_7_3" type="checkbox" id="__nav_7_3" >
      
      
      
        
          
            
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../howto/index.html">Howto</a>
          
            <label for="__nav_7_3">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="Howto" data-md-level="2">
        <label class="md-nav__title" for="__nav_7_3">
          <span class="md-nav__icon md-icon"></span>
          Howto
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../howto/template.html" class="md-nav__link">
        rfc-template
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_7_4" type="checkbox" id="__nav_7_4" checked>
      
      
      
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_7_4">
          Implemented
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Implemented" data-md-level="2">
        <label class="md-nav__title" for="__nav_7_4">
          <span class="md-nav__icon md-icon"></span>
          Implemented
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="0000-jboss-replacement.html" class="md-nav__link">
        0000-bye-bye-jboss
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="0001-beneficiary-fhir-server-rfc-process-v1.html" class="md-nav__link">
        0001-beneficiary-fhir-server-rfc-process-v1
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="0002-monorepo.html" class="md-nav__link">
        0002-monorepo
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          0004-since-parameter
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="0004-since-parameter.html" class="md-nav__link md-nav__link--active">
        0004-since-parameter
      </a>
      
        

  

<nav class="md-nav md-nav--secondary" aria-label="On this page">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      On this page
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#status" class="md-nav__link">
    Status
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#table-of-contents" class="md-nav__link">
    Table of Contents
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#motivation" class="md-nav__link">
    Motivation
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#proposed-solution" class="md-nav__link">
    Proposed Solution
  </a>
  
    <nav class="md-nav" aria-label="Proposed Solution">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#bfd-api-details" class="md-nav__link">
    BFD API Details
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#single-beneficiary-implementors-details" class="md-nav__link">
    Single Beneficiary Implementors Details
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bulk-export-implementors-details" class="md-nav__link">
    Bulk Export Implementors Details
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bfd-implementation-details" class="md-nav__link">
    BFD Implementation Details
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#roster-change-corner-case" class="md-nav__link">
    Roster Change Corner Case
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#time-corner-cases" class="md-nav__link">
    Time Corner Cases
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#database-schema-corner-cases" class="md-nav__link">
    Database Schema Corner Cases
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#alternatives-considered" class="md-nav__link">
    Alternatives Considered
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#future-possibilities" class="md-nav__link">
    Future Possibilities
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#references" class="md-nav__link">
    References
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="0005-mbi-search.html" class="md-nav__link">
        0005-mbi-search
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="0007-service-date-filter.html" class="md-nav__link">
        0007-service-date-filter
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="0009-pipeline-orchestration-baby-steps.html" class="md-nav__link">
        0009-pipeline-orchestration-baby-steps
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="0011-separate-flyway-from-pipeline.html" class="md-nav__link">
        0011-separate-flyway-from-pipeline
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="0013-bfd-server-startup-check.html" class="md-nav__link">
        0013-bfd-server-startup-check
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="0015-centralized-configuration-management.html" class="md-nav__link">
        0015-centralized-configuration-management
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_7_4_11" type="checkbox" id="__nav_7_4_11" >
      
      
      
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_7_4_11">
          BFDv2
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="BFDv2" data-md-level="3">
        <label class="md-nav__title" for="__nav_7_4_11">
          <span class="md-nav__icon md-icon"></span>
          BFDv2
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="BFDv2/0001-bfd-v2-coverage.html" class="md-nav__link">
        RFC Proposal
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="BFDv2/0001-bfd-v2-patient.html" class="md-nav__link">
        RFC Proposal
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="BFDv2/BFDv2%20RFC.html" class="md-nav__link">
        RFC Proposal
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_7_5" type="checkbox" id="__nav_7_5" >
      
      
      
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_7_5">
          Proposed
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Proposed" data-md-level="2">
        <label class="md-nav__title" for="__nav_7_5">
          <span class="md-nav__icon md-icon"></span>
          Proposed
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../proposed/0010-custom-system-uris.html" class="md-nav__link">
        0010-custom-system-uris
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../proposed/0013-synthea-future-claims-and-automation.html" class="md-nav__link">
        0013-Synthea-future-claims-and-automation
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../proposed/0014-dsl-driven-rda-code-generation.html" class="md-nav__link">
        0014-dsl-driven-rda-code-generation
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_7_6" type="checkbox" id="__nav_7_6" >
      
      
      
        
          
        
      
      
        <label class="md-nav__link" for="__nav_7_6">
          Rejected
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Rejected" data-md-level="2">
        <label class="md-nav__title" for="__nav_7_6">
          <span class="md-nav__icon md-icon"></span>
          Rejected
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../rejected/0006-or-condition.html" class="md-nav__link">
        0006-or-condition
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_8" type="checkbox" id="__nav_8" >
      
      
      
        
          
            
          
        
          
        
          
        
          
        
          
        
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../runbooks/index.html">Runbooks</a>
          
            <label for="__nav_8">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="Runbooks" data-md-level="1">
        <label class="md-nav__title" for="__nav_8">
          <span class="md-nav__icon md-icon"></span>
          Runbooks
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_8_2" type="checkbox" id="__nav_8_2" >
      
      
      
        
          
        
      
      
        <label class="md-nav__link" for="__nav_8_2">
          Bfd db migrator
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Bfd db migrator" data-md-level="2">
        <label class="md-nav__title" for="__nav_8_2">
          <span class="md-nav__icon md-icon"></span>
          Bfd db migrator
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../runbooks/bfd-db-migrator/recover-from-failures.html" class="md-nav__link">
        Recover from Failures
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_8_3" type="checkbox" id="__nav_8_3" >
      
      
      
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_8_3">
          Bfd insights
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Bfd insights" data-md-level="2">
        <label class="md-nav__title" for="__nav_8_3">
          <span class="md-nav__icon md-icon"></span>
          Bfd insights
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../runbooks/bfd-insights/firehose-failures.html" class="md-nav__link">
        How to Investigate Firehose Ingestion Processing Failures
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../runbooks/bfd-insights/load-cw-logs.html" class="md-nav__link">
        Load cw logs
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../runbooks/bfd-insights/new-quicksight-dashboards.html" class="md-nav__link">
        How to Create BFD Insights QuickSight Dashboards
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_8_4" type="checkbox" id="__nav_8_4" >
      
      
      
        
          
        
      
      
        <label class="md-nav__link" for="__nav_8_4">
          Bfd pipeline
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Bfd pipeline" data-md-level="2">
        <label class="md-nav__title" for="__nav_8_4">
          <span class="md-nav__icon md-icon"></span>
          Bfd pipeline
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../runbooks/bfd-pipeline/rerun-failed-pipeline-load.html" class="md-nav__link">
        How to Re-run a Failed BFD Pipeline Load
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_8_5" type="checkbox" id="__nav_8_5" >
      
      
      
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_8_5">
          Bfd server
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Bfd server" data-md-level="2">
        <label class="md-nav__title" for="__nav_8_5">
          <span class="md-nav__icon md-icon"></span>
          Bfd server
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../runbooks/bfd-server/recreate-regression-dashboards.html" class="md-nav__link">
        Recreating `server-regression` QuickSight Dashboards
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../runbooks/bfd-server/run-locust-tests.html" class="md-nav__link">
        How to Run the Regression and Load Test Suites
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_8_6" type="checkbox" id="__nav_8_6" >
      
      
      
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_8_6">
          Snyk
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Snyk" data-md-level="2">
        <label class="md-nav__title" for="__nav_8_6">
          <span class="md-nav__icon md-icon"></span>
          Snyk
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../runbooks/snyk/ignore-findings.html" class="md-nav__link">
        Ignore findings
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../runbooks/snyk/resolve-snyk-bot-prs.html" class="md-nav__link">
        Resolve snyk bot prs
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../runbooks/snyk/resolve-snyk-report-findings.html" class="md-nav__link">
        Resolve snyk report findings
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_8_7" type="checkbox" id="__nav_8_7" >
      
      
      
        
          
        
      
      
        <label class="md-nav__link" for="__nav_8_7">
          Synthea
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Synthea" data-md-level="2">
        <label class="md-nav__title" for="__nav_8_7">
          <span class="md-nav__icon md-icon"></span>
          Synthea
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../runbooks/synthea/run-automation.html" class="md-nav__link">
        How to Run Synthea Automation
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_9" type="checkbox" id="__nav_9" >
      
      
      
        
          
            
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../tags/index.html">Tags</a>
          
        </div>
      
      <nav class="md-nav" aria-label="Tags" data-md-level="1">
        <label class="md-nav__title" for="__nav_9">
          <span class="md-nav__icon md-icon"></span>
          Tags
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
                
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

  

<nav class="md-nav md-nav--secondary" aria-label="On this page">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      On this page
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#status" class="md-nav__link">
    Status
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#table-of-contents" class="md-nav__link">
    Table of Contents
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#motivation" class="md-nav__link">
    Motivation
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#proposed-solution" class="md-nav__link">
    Proposed Solution
  </a>
  
    <nav class="md-nav" aria-label="Proposed Solution">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#bfd-api-details" class="md-nav__link">
    BFD API Details
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#single-beneficiary-implementors-details" class="md-nav__link">
    Single Beneficiary Implementors Details
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bulk-export-implementors-details" class="md-nav__link">
    Bulk Export Implementors Details
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bfd-implementation-details" class="md-nav__link">
    BFD Implementation Details
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#roster-change-corner-case" class="md-nav__link">
    Roster Change Corner Case
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#time-corner-cases" class="md-nav__link">
    Time Corner Cases
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#database-schema-corner-cases" class="md-nav__link">
    Database Schema Corner Cases
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#alternatives-considered" class="md-nav__link">
    Alternatives Considered
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#future-possibilities" class="md-nav__link">
    Future Possibilities
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#references" class="md-nav__link">
    References
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  
  
  


  <nav class="md-tags" hidden>
    
      
      
        <a href="../../tags/index.html#rfcs" class="md-tag">RFC's</a>
      
    
  </nav>



  
  



  <h1>0004-since-parameter</h1>

<ul>
<li>RFC Proposal ID: <code>0000-since-parameter-support</code></li>
<li>Start Date: October 1, 2019</li>
<li>Version 2.1</li>
<li>RFC PR: <a href="https://github.com/CMSgov/beneficiary-fhir-data/pull/155">https://github.com/CMSgov/beneficiary-fhir-data/pull/155</a></li>
<li>JIRA Ticket(s):<ul>
<li><a href="https://jira.cms.gov/browse/BLUEBUTTON-1506">BlueButton-1506: Bulk Export Since Support</a></li>
</ul>
</li>
</ul>
<p>This RFC proposal adds features to BFD's API to allow BFD's partners to implement the Bulk Export <code>_since</code> parameter.
The proposal discusses these new features as well as the logic that BFD's partners need to implement the <code>_since</code> parameter correctly.</p>
<h2 id="status">Status<a class="headerlink" href="#status" title="Permanent link">&para;</a></h2>
<ul>
<li>Status: Implemented</li>
<li>Implementation JIRA Ticket(s):<ul>
<li><a href="https://jira.cms.gov/browse/BLUEBUTTON-1506">BLUEBUTTON-1506</a></li>
</ul>
</li>
</ul>
<h2 id="table-of-contents">Table of Contents<a class="headerlink" href="#table-of-contents" title="Permanent link">&para;</a></h2>
<ul>
<li><a href="#status">Status</a></li>
<li><a href="#table-of-contents">Table of Contents</a></li>
<li><a href="#motivation">Motivation</a></li>
<li><a href="#proposed-solution">Proposed Solution</a></li>
<li><a href="#bfd-api-details">BFD API Details</a></li>
<li><a href="#single-beneficiary-implementors-details">Single Beneficiary Implementors Details</a></li>
<li><a href="#bulk-export-implementors-details">Bulk Export Implementors Details</a></li>
<li><a href="#bfd-implementation-details">BFD Implementation Details</a></li>
<li><a href="#roster-change-corner-case">Roster Change Corner Case</a></li>
<li><a href="#time-corner-cases">Time Corner Cases</a></li>
<li><a href="#database-schema-corner-cases">Database Schema Corner Cases</a></li>
<li><a href="#alternatives-considered">Alternatives Considered</a></li>
<li><a href="#future-possibilities">Future Possibilities</a></li>
<li><a href="#references">References</a></li>
</ul>
<h2 id="motivation">Motivation<a class="headerlink" href="#motivation" title="Permanent link">&para;</a></h2>
<p>Consumers of CMS's beneficiary data APIs, whether they call BlueButton 2.0, ACO API, or DPC, want the most up-to-date information.
Ideally, these apps and services would like to call a CMS API as soon as CMS updates its claim information.
When they do call, they only want new data from CMS, not the information they already have.</p>
<p>Before this RFC, BFD only supported returning all resources for a single beneficiary.
Calls were returning more than 5 years of beneficiary data, when only the last weeks of data may be needed.
This behavior is highly inefficient, especially for the bulk export jobs that happen weekly.
In this case, each call is returning 260 times as much information as is needed on average.</p>
<p>The FHIR [<a href="#ref1">1</a>] standard has provisions for an "update me about new information" pattern in its APIs.
For bulk export operations, this feature is called the <code>_since</code> parameter.
For single beneficiary operations, it is called the <code>_lastUpdated</code> parameter.</p>
<p>Early feedback from both ACO API and DPC customers have nearly unanimously pointed out the need for <code>_since</code> parameter support [<a href="#ref2">2</a>].
For the ACO API, where an export operation can take many hours and result in 100's GB of data, ACO API customers have stated that they need <code>_since</code> support to move to production.</p>
<h2 id="proposed-solution">Proposed Solution<a class="headerlink" href="#proposed-solution" title="Permanent link">&para;</a></h2>
<p>This proposal adds 4 changes to the BFD API that are needed for downstream partners to implement the <code>_since</code> parameter.</p>
<ol>
<li>The <code>lastUpdated</code> metadata field of EOB, Patient, and Coverage FHIR resources contains the time they were written to the master DB by the ETL process.</li>
<li>The search operation of the EOB, Patient, and Coverage resources support a <code>_lastUpdated</code> query parameter. When specified, the search filters resources against the passed in the date range. The capabilities statement includes the <code>_lastUpdated</code> search parameter.</li>
<li>The BFD tracks the currency of the updates to BFD. To correctly handle clock skew and data propagation problems, it reports this information back to clients.</li>
<li>The BFD server adds optimizations on resource searches with <code>_lastUpdated</code> for the case where the result set is empty. These searches should return results in a similar time to the time taken by a metadata query.</li>
</ol>
<h3 id="bfd-api-details">BFD API Details<a class="headerlink" href="#bfd-api-details" title="Permanent link">&para;</a></h3>
<p>All the proposed API changes follow the FHIR standard. Keeping compability with the FHIR specification allows BFD clients to use existing FHIR libraries and tools.</p>
<p>The first improvement is a new <code>lastUpdated</code> field in the metadata object of a resource.
This field contains the timestamp that the ETL process wrote the resource to the BFD DB.
Like all FHIR date fields, this timestamp must include the server's timezone [<a href="#ref4">4</a>].
Resources based on records loaded before this RFC do not have a <code>lastUpdated</code> field.</p>
<p>The second change is a <code>_lastUpdated</code> query parameter for resource searches per the FHIR specification [<a href="#ref5">5</a>].
FHIR enumerates a large set of comparison operators, but BFD supports a subset of these operators: <code>lt</code>, <code>le</code>, <code>gt</code> and <code>ge</code> operators.
Two <code>_lastUpdated</code> parameters can be specified to form the upper and lower bounds of a time interval.</p>
<p>The BFD tracks the timestamp of the last write to the BFD database.
In the Bulk Export specification, this timestamp
is called the <code>transactionTime</code> and the BFD has adopted this name as well.
The third change to the API is returning the transaction time as the <code>lastUpdated</code> field of Bundle resources.
See the <a href="#time-corner-cases">Time Corner Cases</a> section for more discussion on the reasoning behind for this design choice.</p>
<p>When the BFD is loading beneficiary records, the transaction time it returns will vary between calls.
Because of the issues listed in the <a href="#time-corner-cases">Time Corner Cases</a> section,
the transaction time may actually decrease between calls, although it will generally be increasing.
All resources returned in a bundle will have a <code>lastUpdated</code> timestamp that is less than or equal to the <code>lastUpdated</code> timestamp of the entire <code>Bundle</code> resource.</p>
<p>The BFD database records loaded before this RFC implementation will have a null <code>lastUpdated</code> field. The BFD treats these records as if they have a very early <code>lastUpdated</code> value.
Searches with a <code>_lastUpdated</code> parameter without a lower bound match these records; Likewise, searches with a lower bound never match these records.
This design allows a single query to retrieve both records with and without a <code>lastUpdate</code> metadata field.</p>
<h3 id="single-beneficiary-implementors-details">Single Beneficiary Implementors Details<a class="headerlink" href="#single-beneficiary-implementors-details" title="Permanent link">&para;</a></h3>
<p>Partners can use the <code>_lastUpdated</code> parameter to get a single beneficiary's recently added FHIR resources.
To do this without missing a resource, the partner remembers (or has it's client remember) the last returned Bundle's <code>lastUpdated</code> field.
This date is the transaction time of the service database at the time of the last query.</p>
<p><img alt="Last Updated" src="https://www.websequencediagrams.com/files/render?link=JJsgr8NxcInDVKyKqwtBiC5bTjdEafpXz4G1vbW2QbwtiveJ8IdHKl3r35lCdKdn" /></p>
<p>For this use-case, the simplest implementation does not page the results of a search.
This choice avoids the problems of changing transaction times between different pages.
An absolutely correct implementation would add an upper bound timestamp to periodical poll, as is shown in the bulk export use-case.</p>
<h3 id="bulk-export-implementors-details">Bulk Export Implementors Details<a class="headerlink" href="#bulk-export-implementors-details" title="Permanent link">&para;</a></h3>
<p>BFD partner's which are implementing bulk export can add the <code>_since</code> feature from the specification.
Just as it was in the single beneficiary case, keeping track of timestamps is important to avoid missing data.
The following sequence diagram shows how this interaction should work.</p>
<p><img alt="Bulk Export" src="https://www.websequencediagrams.com/files/render?link=zfMUJyQaf18DNUb6IQoPN2EBeq9tMctYXXupx6T5Co8gB3t9ysmhat0ToalxZ6p2" /></p>
<p>For each beneficiary in the export group, the partner searches within a time interval.
The lower bound of the interval is the <code>_since</code> parameter time passed by the bulk-export client.
The upper bound timestamp is called the <code>transactionTime</code>.
To establish the <code>transactionTime</code> of the export job, the partner should query the BFD for it's transaction time.
One way to obtain BFD's transaction time is by fetching a Bundle resource for a synthetic user as is done in the example.
The client uses the <code>transactionTime</code> as the <code>_since</code> time of the next bulk-export. An example URL where the time period requested is a week is:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a>https://&lt;hostname&gt;/v1/fhir/ExplanationOfBenefit
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a>  ?patient=&lt;beneficiaryId&gt;
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a>  &amp;_lastUpdated=gt2018-11-22T14:01:01-05:00
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a>  &amp;_lastUpdated=le2018-18-22T15:00:00-05:00
<a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a>  &amp;_format=application%2Fjson%2Bfhir
</code></pre></div>
<p>The BFD maintains a partial index of the <code>lastUpdate</code> field for each resource that was updated in the last 30 days.
The index lets the service to be fast and efficient when a query has an empty result set.
Partners can query the BFD frequently if they are using recent time intervals.
In other words, they can adopt a daily or hourly polling pattern without putting a significant load on the BFD service.</p>
<h3 id="bfd-implementation-details">BFD Implementation Details<a class="headerlink" href="#bfd-implementation-details" title="Permanent link">&para;</a></h3>
<p>For all top level-tables in the BFD, the RFC adds a new column for <code>lastUpdated</code>, which reflects the time BFD loaded a RIF file from the CCW.
Because of the large size of the BFD tables, the BFD's Postgres database does not index the <code>lastUpdated</code> column.
This design avoids some of the indexing capacity problems that the BFD has experienced in the past.</p>
<p>Most bulk-export clients intend to call CMS on at least a weekly basis or even a daily basis.
Since only a small set of records change in a given week, the most common result of a search is an empty set.
The BFD implements a filter that allows the BFD data server to avoid querying the database in this case.</p>
<p>The BFD pipeline tracks the beneficiaries that it updates in each RIF file load along with the time interval of the write.
The BFD data server uses this list of past RIF file loads and their associated beneficiaries to build its filters.
The filter management process works on a background thread on the data server.
It never interferes with the data serving process.</p>
<p><img alt="Filters" src="https://www.lucidchart.com/publicSegments/view/d8d09787-3968-43af-a974-05bd03472fdc/image.png" /></p>
<p>The filters internally use a Bloom filter data structure.
Bloom filters are very memory efficient and commonly used in databases like Postgres [<a href="#ref8">8</a>].
In essence, the filter design takes an optimization out of the database and implements it in the data server.</p>
<h3 id="roster-change-corner-case">Roster Change Corner Case<a class="headerlink" href="#roster-change-corner-case" title="Permanent link">&para;</a></h3>
<p>The resources returned by a group export operation is the current roster of the group at the time of an export call.
A group's roster may change between successive export calls.
At this time, the importer does not have any data for the added beneficiaries.
So, how should a group export call with a <code>_since</code> parameter handle new beneficiaries added to the group?
The FHIR specification states that export should only include data updated after the passed in <code>_since</code> parameter.
However, the specification does not contemplate this use-case, nor does it hint on how to implement this use-case correctly.</p>
<p>Since the BFD service does not track groups, the BFD partners have to work out solutions for this problem.
The FHIR community is aware of this issue and is considering an amendment to Bulk Export specification.</p>
<h3 id="time-corner-cases">Time Corner Cases<a class="headerlink" href="#time-corner-cases" title="Permanent link">&para;</a></h3>
<p>In production, the BFD service runs on multiple computers, each with a different clock.
Time differences in these clocks lead to a class of computing problems known as clock skew that are hard to detect and solve.</p>
<p>Moreover, the BFD service in production uses replica databases to scale up the capacity of the service.
There is a delay between the writes to the master database and the data appearing on the replica.
The effect of this replica delay is very similar to or the same as clock skew.
In practice, replica delay is a more significant problem than clock skew;
In the BFD service, clock skew measures to be a few milliseconds, while replica delay has spiked in the past to over 30 minutes.</p>
<p>This RFC's design avoids most clock skew and replica delay problems by using ETL's process computer's clock for values of the <code>lastUpdated</code> field.
This fact and the atomic nature of the BFD writes ensures that a Bundle's <code>lastUpdated</code> value, which represents the timestamp of the entire database, is consistent with the timestamp of single resources.
A long as a client use time values that come from the service, it avoids clock skew issues.</p>
<p>One place where consistency issues appear is due to differing replica delay between availability zones.
Because of load balancing between zones, successive calls to the BFD may hit different replica databases.
If each replica has a different data set, this behavior results in inconsistencies between successive bundles in an export job.
Usually, this is very unlikely to happen because replica delays typically are under a second, and the database is only updated once a week.
Furthermore, export jobs have an upper bound in their search intervals, the <code>transactionTime</code>.
Nevertheless, clients should check that the transaction timestamp returned is after or equal to the upper bound timestamp of the call to prevent to ensure consistency in the result set of successive calls.</p>
<p>Another time corner case happens because of the precision of a FHIR timestamp is one millisecond.
Multiple writes may occur during this period, so a transaction timestamp does not resolve to a single write.
The solution to this issue is same as the previous multiple availability-zone issue;
use an upper bound time in the search, use an upper bound that is a known transaction time, and check that the transaction time timestamp returned from the query is after or equal to the upper bound timestamp.</p>
<h3 id="database-schema-corner-cases">Database Schema Corner Cases<a class="headerlink" href="#database-schema-corner-cases" title="Permanent link">&para;</a></h3>
<p>FHIR Resources are projections from the BFD's internal records, based on the CCW's RIF files. As a result, the FHIR Resources may have their <code>lastUpdated</code> field change when other fields do not change.</p>
<p>Records created before this RFC do not have a last updated value. FHIR resources derived from these records do not have a <code>lastUpdated</code> field.</p>
<h3 id="alternatives-considered">Alternatives Considered<a class="headerlink" href="#alternatives-considered" title="Permanent link">&para;</a></h3>
<p>Instead of optimizing at the BFD data server, an earlier design had the empty result set optimization done at the partner level. An ETL feed served by the BFD would allow the partner to implement the bloom filters now found in BFD data server. Although this design is slightly more efficient, the current design is simpler to run and requires less partner work.</p>
<p>A simpler approach would be use a database index on the <code>lastUpdated</code> field in the database. This approach should be reconsidered if the database technology changes from Postgres on RDS.</p>
<p>As mentioned in the <a href="#time-corner-cases">Time Corner Cases</a> section, using timestamps as a synchronization parameter is not correct in all cases.
A better synchronization parameter is a revision number.
Implementing revision numbers requires the ordering of writes to the database, a design choice that the current BFD design avoids
and a choice that has scalability and performance penalties. Furthermore, revisions are not compatible with the FHIR bulk-export specification, so a revision based design was not implemented.</p>
<h2 id="future-possibilities">Future Possibilities<a class="headerlink" href="#future-possibilities" title="Permanent link">&para;</a></h2>
<p>This proposal should scale as BFD and it's partners serve more beneficiaries and clients. It should continue to work as BFD adds more partners and data sources.</p>
<p>In future releases, BFD may receive claim data faster than the current weekly updates. Care has been taken to make sure
the lastUpdated indexing works correctly during RIF file processing. This means that there should be no need to change
the algorithm when the BFD moves to daily or even hourly batches.</p>
<p>Much of the design choices in this RFC was done to avoid taxing the database at the center of the BFD.
If the BFD database changes to allow the database to index <code>lastUpdated</code>, much of the optimizations done in this RFC can be removed.</p>
<p>In discussions with DPC customers, they have asked for notification when the DPC has new beneficiary data. Instead of polling for updates, they would like to have the ability for a push update. Similarly, FHIR is developing a subscription model that supports webhooks [<a href="#ref6">6</a>]. If a BFD partner wants to develop these features, the file loaded tables can form a basis for this work.</p>
<h2 id="references">References<a class="headerlink" href="#references" title="Permanent link">&para;</a></h2>
<p>The following references are required to fully understand and implement this proposal. They should be read before voting on this proposal.</p>
<p><a id="ref1"></a>
[1] FHIR - Fast Health Interoperability Resources: <a href="https://www.fhir.org">https://www.fhir.org</a></p>
<p><a id="ref2"></a>
[2] Rick Hawes: Conversations with customers of DPC and BCDA</p>
<p><a id="ref3"></a>
[3] Working copy of the Bulk Export specification: <a href="https://build.fhir.org/ig/HL7/bulk-data/export/index.html">https://build.fhir.org/ig/HL7/bulk-data/export/index.html</a></p>
<p><a id="ref4"></a>
[4] FHIR Meta.lastUpdated definition: <a href="https://www.hl7.org/fhir/resource-definitions.html#meta.lastupdated">https://www.hl7.org/fhir/resource-definitions.html#meta.lastupdated</a></p>
<p><a id="ref5"></a>
[5] FHIR Search operation: <a href="https://www.hl7.org/fhir/search.html">https://www.hl7.org/fhir/search.html</a></p>
<p><a id="ref6"></a>
[6] FHIR Subscriptions: <a href="https://www.hl7.org/fhir/subscription.html">https://www.hl7.org/fhir/subscription.html</a></p>
<p><a id="ref7"></a>
[7] Original Confluence page with an implementation outline: <a href="https://confluence.cms.gov/pages/viewpage.action?pageId=189269516">https://confluence.cms.gov/pages/viewpage.action?pageId=189269516</a></p>
<p><a id="ref8"></a>
[8] Bloom Filter: <a href="https://en.wikipedia.org/wiki/Bloom_filter">https://en.wikipedia.org/wiki/Bloom_filter</a></p>



  



                
              </article>
            </div>
          
          
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.instant", "navigation.sections", "navigation.indexes", "header.autohide", "navigation.tracking"], "search": "../../assets/javascripts/workers/search.12658920.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.5cf534bf.min.js"></script>
      
    
  </body>
</html>